@model PetCare.Models.Cuidador
@{
    var solicitudId = ViewData["SolicitudID"] as int?;
}

<div class="card-body">
    <p><strong>Dirección:</strong> @Model.Usuario.Direccion</p>
    <p><strong>Tarifa por hora:</strong> @(Model.TarifaPorHora?.ToString("C") ?? "No especificada")</p>

    <div class="d-flex justify-content-end mt-3 gap-2">
        @if (solicitudId != null)
        {
            <p class="text-danger small">Debug: SolicitudID = @solicitudId, CuidadorID = @Model.CuidadorID</p>

            <form action="/Cliente/AsignarCuidador" method="post" class="d-inline">
                <input type="hidden" name="solicitudId" value="@solicitudId" />
                <input type="hidden" name="cuidadorId" value="@Model.CuidadorID" />

                <script>
                    function enviarSolicitudCuidador(form) {
                        form.submit();
                    }
                </script>

                <button type="button" class="btn btn-outline-success" onclick="enviarSolicitudCuidador(this.form)">
                    <i class="bi bi-hand-index-thumb"></i> Solicitar
                </button>
            </form>
        }

        <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#chatModal">
            <i class="bi bi-chat-left-text"></i> Chat
        </button>
    </div>
</div>
